<Simulation verbosity="debug">
  <RunInfo>
    <WorkingDir>.</WorkingDir>
    <Sequence>
      loadData,
      reduce,
      plotResults
    </Sequence>
  </RunInfo>

  <ExternalXML node="Files" xmlToLoad="fileLibrary.xml"/>
  <ExternalXML node="Models" xmlToLoad="drLibrary.xml"/>

  <Steps>
    <IOStep name="loadData">
      <!-- Choose the data you want to read -->
      <Input class="Files" type="">iris</Input>
      <!-- Where do you want to put it? -->
      <Output class="DataObjects" type="PointSet">myData</Output>
    </IOStep>
    <PostProcess name="reduce">
      <Input class="DataObjects" type="PointSet">myData</Input>
      <Model class="Models" type="PostProcessor">PCA</Model>
      <Output class="DataObjects" type="PointSet">myData</Output>
    </PostProcess>
    <IOStep name="plotResults" pauseAtEnd="true">
      <!-- What do you want to see -->
      <Input class="DataObjects" type="PointSet">myData</Input>
      <Output class="OutStreams" type="Plot">plotAfter</Output>
    </IOStep>
  </Steps>
  
  <DataObjects>
    <PointSet name="dataTemplate">
      <Input>x,t</Input>
      <Output>OutputPlaceHolder</Output>
    </PointSet>
    <PointSet name="myData">
      <Input>sepalLength,sepalWidth,petalLength,petalWidth</Input>
      <Output>class</Output>
    </PointSet>
  </DataObjects>

  <OutStreams>
    <Plot  name="plotAfter" overwrite="false">
      <filename>drResults</filename>
      <plotSettings>
        <plot>
          <type>scatter</type>
          <x>myData|output|c1</x>
          <y>myData|output|c2</y>
        </plot>
      </plotSettings>
      <actions>
        <how>screen</how>
      </actions>
    </Plot>
  </OutStreams>

</Simulation>
