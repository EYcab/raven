  <Models>

    <!-- The model we want to Sample -->
    <ExternalModel ModuleToLoad="lorentzAttractor_disc"
                   name="PythonModule"
                   subType="">
      <variables>sigma,rho,beta,x,y,z,time,x0,y0,z0</variables>
    </ExternalModel>


    <PostProcessor name="sliceCluster" subType="DataMining">
      <KDD lib="SciKitLearn"  labelFeature="labels">
        <SKLtype>cluster|KMeans</SKLtype>
        <Features>x,y,z</Features>
        <n_clusters>2</n_clusters>
        <max_iter>1000</max_iter>
        <random_state>1</random_state>
        <init>k-means++</init>
      </KDD>
      <pivotParameter>time</pivotParameter>
    </PostProcessor>


    <PostProcessor name="threadCluster" subType="DataMining">
      <!-- Important difference -->
      <PreProcessor class="Models" type="PostProcessor">
        dataPreProc
      </PreProcessor>
      <!-- Important difference -->
      <KDD lib="SciKitLearn" labelFeature="labels">
        <SKLtype>cluster|KMeans</SKLtype>
        <Features>output</Features>
        <n_clusters>2</n_clusters>
        <tol>1E-10</tol>
        <random_state>1</random_state>
        <init>k-means++</init>
        <precompute_distances>True</precompute_distances>
      </KDD>
    </PostProcessor>

    <!-- Preprocessor to convert our data into a PointSet
         where the dimensions are points in time -->
    <PostProcessor name="dataPreProc"
                   subType="InterfacedPostProcessor">
       <method>HS2PS</method>
       <pivotParameter>time</pivotParameter>
    </PostProcessor>
    
    <!-- You can use these to split the data into two
         sets -->
    <PostProcessor name="filter0"
                   subType="InterfacedPostProcessor">
      <method>dataObjectLabelFilter</method>
      <dataType>HistorySet</dataType>
      <label>KMeans1Labels</label>
      <clusterIDs>0</clusterIDs>
    </PostProcessor>
    <PostProcessor name="filter1"
                   subType="InterfacedPostProcessor">
      <method>dataObjectLabelFilter</method>
      <dataType>HistorySet</dataType>
      <label>KMeans1Labels</label>
      <clusterIDs>1</clusterIDs>
    </PostProcessor>
  </Models>